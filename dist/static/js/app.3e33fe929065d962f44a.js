webpackJsonp([1],{"/8Cd":function(e,t){},"/rKX":function(e,t){},"4Uwr":function(e,t,a){e.exports=a.p+"static/img/logo.d9bfd88.jpg"},"5W1q":function(e,t){},"5uzI":function(e,t){},BdRN:function(e,t){},E5oP:function(e,t){},E68O:function(e,t){},EJsK:function(e,t){},NHnr:function(e,t,a){"use strict";function n(e){a("E5oP")}function s(e){a("wrMN")}function i(e){a("up3Z")}function o(e){a("BdRN")}function r(e){a("TgJ2")}function l(e){a("/8Cd")}function c(e){a("ea3Y")}function d(e){a("mGhb")}function m(e){a("EJsK")}function u(e){a("ohU5")}function f(e){a("v+rB")}function p(e){a("mLjK")}function h(e){a("sjko")}function g(e){a("YMg/")}function _(e){a("E68O")}function v(e){a("uaDS")}Object.defineProperty(t,"__esModule",{value:!0});var b=a("7+uW"),w=a("zL8q"),y=a.n(w),C=(a("tvR6"),a("5W1q"),{name:"app"}),k=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},x=[],A={render:k,staticRenderFns:x},S=A,$=a("VU/8"),I=n,F=$(C,S,!1,I,null,null),D=F.exports,z=a("/ocq"),N=a("mtWM"),P=a.n(N),T={props:{warningcolor:{type:String,default:"black"}},data:function(){return{type:"越韵古诗",dialogVisible:!1,number:0,num1:5,num2:5,num3:5}},computed:{chooseNumber:function(){return this.num1+this.num2+this.num3>this.number?this.warningcolor="red":this.warningcolor="black",this.num1+this.num2+this.num3}},methods:{confirm:function(){if(this.num1+this.num2+this.num3!=this.number)return this.$message({message:"题目数不符合要求",type:"warning"}),!1;this.$router.push({path:"/test",query:{total:this.number,choice:this.num1,judge:this.num2,admiring:this.num3}})}},mounted:function(){var e=this;P.a.get(API_HOST+"Global/QuestionNum").then(function(t){t=t.data,1==t.status&&(e.number=parseInt(t.questionNum),20===e.number?(e.num1=10,e.num2=5,e.num3=5):25===e.number?(e.num1=10,e.num2=10,e.num3=5):(e.num1=20,e.num2=20,e.num3=10))})}},j=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-row",{staticClass:"home"},[n("el-row",{staticClass:"home__container"},[n("el-col",{staticClass:"home__link",attrs:{span:12}},[n("a",{attrs:{href:"http://www.szchengnan.com/",target:"_blank"}},[e._v("嵊州市城南小学欢迎你")])]),e._v(" "),n("el-col",{staticClass:"home__test",attrs:{span:12}},[n("router-link",{attrs:{to:{path:"/login"}}},[e._v("管理员登录")]),e._v("  \n      "),n("a",{attrs:{href:"javascript:void(0);"},on:{click:function(t){e.dialogVisible=!0}}},[e._v(e._s(e.type)+"在线测试 "),n("i",{staticClass:"fa fa-arrow-circle-o-right"})])],1),e._v(" "),n("el-col",{attrs:{span:24}},[n("img",{staticClass:"home__logo",attrs:{src:a("4Uwr"),alt:"校园全景"}})])],1),e._v(" "),n("el-dialog",{attrs:{title:"选择题量",visible:e.dialogVisible,width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[n("span",[e._v("总题数："),n("strong",[e._v(e._s(e.number))])]),e._v(" "),n("span",{style:{color:e.warningcolor}},[e._v("已选题数: "+e._s(e.chooseNumber)+" ")]),e._v(" "),n("el-row",{staticClass:"test__num"},[n("span",[e._v("选择题：")]),e._v(" "),n("el-input-number",{attrs:{min:0,max:e.number,size:"small",label:"选择题"},model:{value:e.num1,callback:function(t){e.num1=t},expression:"num1"}})],1),e._v(" "),n("el-row",{staticClass:"test__num"},[n("span",[e._v("判断题：")]),e._v(" "),n("el-input-number",{attrs:{min:0,max:e.number,size:"small",label:"判断题"},model:{value:e.num2,callback:function(t){e.num2=t},expression:"num2"}})],1),e._v(" "),n("el-row",{staticClass:"test__num"},[n("span",[e._v("欣赏题：")]),e._v(" "),n("el-input-number",{attrs:{min:0,max:e.number,size:"small",label:"欣赏题"},model:{value:e.num3,callback:function(t){e.num3=t},expression:"num3"}})],1),e._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:e.confirm}},[e._v("确 定")])],1)],1)],1)},L=[],q={render:j,staticRenderFns:L},V=q,E=a("VU/8"),O=s,H=E(T,V,!1,O,"data-v-4f2f72c2",null),R=H.exports,U={data:function(){return{isLogin:!1,LoginVisible:!0,grade:0,level:"",showGrade:!1,disable:!1,showAnswer:!1,name:"",class:"",id:"",loginForm:{name:"",class:"",id:""},registerForm:{name:"",class:"",id:""},total:1,choice:[],choiceNum:0,choiceAnswer:[],choiceAnswerAna:[],judge:[],judgeNum:0,judgeAnswer:[],judgeAnswerAna:[],admiring:[],admiringNum:0,admiringAnswer:[],admiringAnswerAna:[]}},created:function(){var e=this;this.total=this.$route.query.total||1,this.choiceNum=this.$route.query.choice||0,this.judgeNum=this.$route.query.judge||0,this.admiringNum=this.$route.query.admiring||0,this.$axios.defaults.withCredentials=!0,this.$axios({method:"POST",url:API_HOST+"Poetry/Library",data:{num:[this.choiceNum,this.judgeNum,this.admiringNum]}}).then(function(t){t.data.status?(e.choice=t.data.data.choice,e.judge=t.data.data.judge,e.admiring=t.data.data.admiring):e.$message.error(t.data.msg)}).catch(function(t){e.$message.error("题库获取失败 "+t)})},methods:{login:function(){var e=this;if(!this.loginForm.name||!this.loginForm.class||!this.loginForm.id)return this.$message.warning("请填写完整登录信息"),!1;this.$axios({method:"POST",url:API_HOST+"Login",data:{name:this.loginForm.name,class:this.loginForm.class,id:this.loginForm.id}}).then(function(t){t.data.status?(e.$message.success(t.data.msg),e.LoginVisible=!1,e.isLogin=!0,e.name=e.loginForm.name,e.class=e.loginForm.class,e.id=e.loginForm.id):e.$message.error(t.data.msg)}).catch(function(t){e.$message.error("登录失败 "+t)})},register:function(){var e=this;if(!this.registerForm.name||!this.registerForm.class||!this.registerForm.id)return this.$message.warning("请填写完整注册信息"),!1;this.$axios({method:"POST",url:API_HOST+"Reg",data:{name:this.registerForm.name,class:this.registerForm.class,id:this.registerForm.id}}).then(function(t){t.data.status?e.$message.success(t.data.msg):e.$message.error(t.data.msg)}).catch(function(t){e.$message.error("注册失败 "+t)})},submit:function(){var e=this;return this.isLogin?this.choiceAnswer.length!==+this.choiceNum||this.judgeAnswer.length!==+this.judgeNum||this.admiringAnswer.length!==+this.admiringNum?(this.$message.warning("试卷全部完成才可以提交试卷"),!1):void this.$axios({method:"POST",url:API_HOST+"Poetry/Grade",data:{id:this.id,answer:[this.choiceAnswer,this.judgeAnswer,this.admiringAnswer]}}).then(function(t){if(t.data&&t.data.status){e.grade=parseInt(t.data.data.grade);var a="";e.grade>85?(a="非常棒！",e.level="优秀"):e.grade<=85&&e.grade>70?(a="考的不错呀！",e.level="良好"):e.grade<=70&&e.grade>60?(a="你已经通过考查！",e.level="及格"):(a="请继续努力！",e.level="不及格"),e.showGrade=!0,e.disable=!0,e.$message.success("试卷批改成功，"+e.name+"，你的分数为"+e.grade+"，"+a),e.showAnswer=!0;var n=t.data.data.right_answer;n[0].forEach(function(t,a){t===e.choiceAnswer[a]?e.choiceAnswerAna.push({isCorrect:!0,answer:t,color:"#67C23A"}):e.choiceAnswerAna.push({isCorrect:!1,answer:t,color:"#F56C6C"})}),n[1].forEach(function(t,a){t===e.judgeAnswer[a]?e.judgeAnswerAna.push({isCorrect:!0,answer:t,color:"#67C23A"}):e.judgeAnswerAna.push({isCorrect:!1,answer:t,color:"#F56C6C"})}),n[2].forEach(function(t,a){t===e.admiringAnswer[a]?e.admiringAnswerAna.push({isCorrect:!0,answer:t,color:"#67C23A"}):e.admiringAnswerAna.push({isCorrect:!1,answer:t,color:"#F56C6C"})})}}).catch(function(e){console.log("提交试卷失败 "+e)}):(this.$message.warning("登录以后才可以提交试卷"),!1)},getRightAnswer:function(e,t){return"choice"===e?this.choiceAnswerAna[t].isCorrect?"答案正确":"答案错误，正确答案为："+this.choice[t].option[this.choiceAnswerAna[t].answer]:"judge"===e?this.judgeAnswerAna[t].isCorrect?"答案正确":"答案错误，正确答案为："+this.judgeAnswerAna[t].answer===1?"正确":"错误":this.admiringAnswerAna[t].isCorrect?"答案正确":"答案错误，正确答案为："+this.admiring[t].option[this.admiringAnswerAna[t].answer]}}},B=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"test"},[a("el-row",{staticClass:"container"},[a("h1",[e._v("越韵古诗测试试卷")]),e._v(" "),a("div",{staticClass:"test_info"},[e.isLogin?[a("span",{staticClass:"test_student"},[e._v("学号："+e._s(this.id))]),e._v(" "),a("span",{staticClass:"test_student"},[e._v("姓名："+e._s(this.name))]),e._v(" "),a("span",{staticClass:"test_student"},[e._v("班级："+e._s(this.class))])]:a("a",{staticClass:"test_login",attrs:{href:"javascript:void(0);"},on:{click:function(t){e.LoginVisible=!0}}},[e._v("学生登录/注册")])],2),e._v(" "),a("el-row",{staticClass:"test__question"},[e.showGrade?a("h2",{staticClass:"test__grade"},[e._v("分数："),a("span",[e._v(e._s(e.grade))]),e._v("（"+e._s(e.level)+"）")]):e._e(),e._v(" "),a("section",[a("h3",[e._v("一、选择题（共"+e._s(e.choiceNum)+"题，每题"+e._s(100/+e.total)+"分。每题只有一个答案是正确的，请从四个备选答案中选出正确选项）")]),e._v(" "),e._l(e.choice,function(t,n){return a("el-row",{key:n,staticClass:"question__item"},[a("h4",[e._v(e._s(n+1)+". "+e._s(t.question))]),e._v(" "),t.image?a("div",{staticClass:"test__image"},[a("img",{attrs:{src:"//"+t.image,alt:"古诗配图"}})]):e._e(),e._v(" "),a("el-radio-group",{staticClass:"item",attrs:{disabled:e.disable},model:{value:e.choiceAnswer[n],callback:function(t){e.$set(e.choiceAnswer,n,t)},expression:"choiceAnswer[index]"}},[a("el-radio",{attrs:{label:1}},[e._v(e._s(t.option&&t.option[0]))]),e._v(" "),a("el-radio",{attrs:{label:2}},[e._v(e._s(t.option&&t.option[1]))]),e._v(" "),a("el-radio",{attrs:{label:3}},[e._v(e._s(t.option&&t.option[2]))]),e._v(" "),a("el-radio",{attrs:{label:4}},[e._v(e._s(t.option&&t.option[3]))])],1),e._v(" "),e.showAnswer&&e.choiceAnswerAna[n]?a("h4",{style:{color:e.choiceAnswerAna[n].color}},[e._v(e._s(e.getRightAnswer("choice",n)))]):e._e()],1)})],2),e._v(" "),a("section",[a("h3",[e._v("二、判断题（共"+e._s(e.judgeNum)+"题，每题"+e._s(100/+e.total)+"分。请根据题目内容选择正确或者错误）")]),e._v(" "),e._l(e.judge,function(t,n){return a("el-row",{key:n,staticClass:"question__item"},[a("h4",[e._v(e._s(n+1)+". "+e._s(t.question))]),e._v(" "),t.image?a("div",{staticClass:"test__image"},[a("img",{attrs:{src:"//"+t.image,alt:"古诗配图"}})]):e._e(),e._v(" "),a("el-radio-group",{staticClass:"item",attrs:{disabled:e.disable},model:{value:e.judgeAnswer[n],callback:function(t){e.$set(e.judgeAnswer,n,t)},expression:"judgeAnswer[index]"}},[a("el-radio",{attrs:{label:1}},[e._v("正确")]),e._v(" "),a("el-radio",{attrs:{label:0}},[e._v("错误")])],1),e._v(" "),e.showAnswer&&e.judgeAnswerAna[n]?a("h4",{style:{color:e.judgeAnswerAna[n].color}},[e._v(e._s(e.getRightAnswer("judge",n)))]):e._e()],1)})],2),e._v(" "),a("section",[a("h3",[e._v("三、欣赏题（共"+e._s(e.admiringNum)+"题，每题"+e._s(100/+e.total)+"分。请欣赏完作品后完成选项，每题只有一个答案是正确的，请从四个备选答案中选出正确选项）")]),e._v(" "),e._l(e.admiring,function(t,n){return a("el-row",{key:n,staticClass:"question__item"},[a("h4",[e._v(e._s(n+1)+". "+e._s(t.question))]),e._v(" "),t.image?a("div",{staticClass:"test__image"},[a("img",{attrs:{src:"//"+t.image,alt:"古诗配图"}})]):e._e(),e._v(" "),a("el-radio-group",{staticClass:"item",attrs:{disabled:e.disable},model:{value:e.admiringAnswer[n],callback:function(t){e.$set(e.admiringAnswer,n,t)},expression:"admiringAnswer[index]"}},[a("el-radio",{attrs:{label:1}},[e._v(e._s(t.option&&t.option[0]))]),e._v(" "),a("el-radio",{attrs:{label:2}},[e._v(e._s(t.option&&t.option[1]))]),e._v(" "),a("el-radio",{attrs:{label:3}},[e._v(e._s(t.option&&t.option[2]))]),e._v(" "),a("el-radio",{attrs:{label:4}},[e._v(e._s(t.option&&t.option[3]))])],1),e._v(" "),e.showAnswer&&e.admiringAnswerAna[n]?a("h4",{style:{color:e.admiringAnswerAna[n].color}},[e._v(e._s(e.getRightAnswer("admiring",n)))]):e._e()],1)})],2),e._v(" "),a("el-row",{staticClass:"test__handle"},[a("el-button",{attrs:{disabled:e.disable,type:"primary"},on:{click:e.submit}},[e._v("提交试卷")])],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"登录/注册",visible:e.LoginVisible,center:"",width:"400px"},on:{"update:visible":function(t){e.LoginVisible=t}}},[a("el-tabs",[a("el-tab-pane",{attrs:{label:"学生登录"}},[a("el-form",{ref:"form",attrs:{model:e.loginForm}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"请输入姓名"},model:{value:e.loginForm.name,callback:function(t){e.$set(e.loginForm,"name",t)},expression:"loginForm.name"}})],1),e._v(" "),a("el-form-item",[a("el-input",{attrs:{placeholder:"请输入班级"},model:{value:e.loginForm.class,callback:function(t){e.$set(e.loginForm,"class",t)},expression:"loginForm.class"}})],1),e._v(" "),a("el-form-item",[a("el-input",{attrs:{placeholder:"请输入学号"},model:{value:e.loginForm.id,callback:function(t){e.$set(e.loginForm,"id",t)},expression:"loginForm.id"}})],1),e._v(" "),a("el-form-item",[a("el-button",{staticClass:"test__btn",attrs:{type:"primary"},on:{click:e.login}},[e._v("登录")])],1)],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"学生注册"}},[a("el-form",{ref:"form",attrs:{model:e.registerForm}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"请输入姓名"},model:{value:e.registerForm.name,callback:function(t){e.$set(e.registerForm,"name",t)},expression:"registerForm.name"}})],1),e._v(" "),a("el-form-item",[a("el-input",{attrs:{placeholder:"请输入班级，例如101"},model:{value:e.registerForm.class,callback:function(t){e.$set(e.registerForm,"class",t)},expression:"registerForm.class"}})],1),e._v(" "),a("el-form-item",[a("el-input",{attrs:{placeholder:"请输入学号"},model:{value:e.registerForm.id,callback:function(t){e.$set(e.registerForm,"id",t)},expression:"registerForm.id"}})],1),e._v(" "),a("el-form-item",[a("el-button",{staticClass:"test__btn",attrs:{type:"primary"},on:{click:e.register}},[e._v("注册")])],1)],1)],1)],1)],1)],1)},Q=[],G={render:B,staticRenderFns:Q},M=G,W=a("VU/8"),K=i,J=W(U,M,!1,K,"data-v-898fc4b8",null),Y=J.exports,X={name:"RangeSlider",extends:{},data:function(){return{formLabelAlign:{name:"",region:"",type:!1,alert:""}}},computed:{},components:{},watch:{},methods:{login:function(e){if(this.$router.push({path:"/admin/index"}),""!=this.formLabelAlign.name){if(""==this.formLabelAlign.region)return void(this.formLabelAlign.alert="请输入密码");this.formLabelAlign.alert="",!0===this.formLabelAlign.type?(console.log(this.formLabelAlign.type),this.setCookie(this.formLabelAlign.name,this.formLabelAlign.region,7)):(console.log("清空Cookie"),this.clearCookie()),P.a.post(API_HOST+"Admin/Login",{name:this.formLabelAlign.name,password:this.formLabelAlign.region}).then(function(e){console.log(e),(e.status=!0)&&(localStorage.adminName=this.loginForm.name,alert("管理员成功"),da.push({path:"/admin/index"}))}).catch(function(e){console.log(e),alert("登录失败，请检查登录信息")})}},setCookie:function(e,t,a){var n=new Date;n.setTime(n.getTime()+864e5*a),window.document.cookie="userName="+e+";path=/;expires="+n.toGMTString(),window.document.cookie="userPwd="+t+";path=/;expires="+n.toGMTString(),console.log(window.document.cookie)},getCookie:function(){if(document.cookie.length>0)for(var e=document.cookie.split("; "),t=0;t<e.length;t++){var a=e[t].split("=");"userName"==a[0]?this.formLabelAlign.name=a[1]:"userPwd"==a[0]&&(this.formLabelAlign.region=a[1]),this.formLabelAlign.type=!0}},clearCookie:function(){this.setCookie("","",-1)}},beforeCreate:function(){},mounted:function(){this.getCookie()}},Z=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"main"},[a("el-card",{staticClass:"login__box"},[a("div",{staticClass:"login__header",attrs:{slot:"header"},slot:"header"},[a("span",[a("i",{staticClass:"fa fa-sign-in"}),e._v(" 欢迎登录 越韵古诗")])]),e._v(" "),a("el-form",{attrs:{model:e.formLabelAlign}},[a("el-form-item",[a("el-input",{attrs:{"prefix-icon":"fa fa-user fa-lg",placeholder:"请输入用户名"},model:{value:e.formLabelAlign.name,callback:function(t){e.$set(e.formLabelAlign,"name",t)},expression:"formLabelAlign.name"}})],1),e._v(" "),a("el-form-item",[a("el-input",{attrs:{type:"password","prefix-icon":"fa fa-lock fa-lg",placeholder:"请输入密码"},model:{value:e.formLabelAlign.region,callback:function(t){e.$set(e.formLabelAlign,"region",t)},expression:"formLabelAlign.region"}}),e._v(" "),""!==e.formLabelAlign.alert?a("el-alert",{attrs:{type:"warning",closable:!1},model:{value:e.formLabelAlign.alert,callback:function(t){e.$set(e.formLabelAlign,"alert",t)},expression:"formLabelAlign.alert"}},[e._v(e._s(e.formLabelAlign.alert))]):e._e()],1),e._v(" "),a("el-form-item",[a("el-button",{staticClass:"login__button",attrs:{type:"primary"},on:{click:function(t){e.login("formLabelAlign")}}},[e._v("登录")])],1)],1)],1)],1)},ee=[],te={render:Z,staticRenderFns:ee},ae=te,ne=a("VU/8"),se=o,ie=ne(X,ae,!1,se,"data-v-7cd7d88e",null),oe=ie.exports,re={data:{return:{username:"王老师"}},methods:{},mounted:function(){this.username=localStorage.getItem("adminName")}},le=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-header",[a("el-row",[a("el-col",{staticClass:"header__logo",attrs:{span:10}},[a("i",{staticClass:"fa fa-leaf"}),e._v("  越韵古诗\n    ")]),e._v(" "),a("el-col",{staticClass:"header__tool",attrs:{span:10}},[a("i",{staticClass:"fa fa-navicon"})]),e._v(" "),a("el-col",{staticClass:"header__user",attrs:{span:4}},[a("el-dropdown",[a("span",{staticClass:"el-dropdown-link"},[e._v("\n          "+e._s(e.username)+" "),a("img",{staticClass:"user__avatar",attrs:{src:"https://avatars0.githubusercontent.com/u/18280125?s=460&v=4",alt:"用户图像"}})]),e._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",[a("router-link",{staticStyle:{"text-decoration":"none"},attrs:{to:"/admin/self"}},[e._v("个人中心")])],1),e._v(" "),a("el-dropdown-item",{attrs:{divided:""}},[e._v("退出登录")])],1)],1)],1)],1)],1)},ce=[],de={render:le,staticRenderFns:ce},me=de,ue=a("VU/8"),fe=r,pe=ue(re,me,!1,fe,"data-v-24bd9154",null),he=pe.exports,ge={data:function(){return{isCollapse:!0}},methods:{handleOpen:function(e,t){console.log(e,t)},handleClose:function(e,t){console.log(e,t)}}},_e=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-aside",{attrs:{width:"230px"}},[a("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":"index","background-color":"#eef1f6","text-color":"#48576a",router:!0,"active-text-color":"#20a0ff"},on:{open:e.handleOpen,close:e.handleClose}},[a("el-menu-item",{attrs:{index:"/admin/index"}},[a("i",{staticClass:"fa fa-tachometer fa-lg"}),e._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("系统首页")])]),e._v(" "),a("el-submenu",{attrs:{index:"/admin/questionManage"}},[a("template",{slot:"title"},[a("i",{staticClass:"fa fa-folder-o fa-lg"}),e._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("题库管理")])]),e._v(" "),a("el-menu-item",{attrs:{index:"/admin/question"}},[a("span",{attrs:{slot:"title"},slot:"title"},[e._v("题目列表")])])],2),e._v(" "),a("el-submenu",{attrs:{index:"/admin/studentManage"}},[a("template",{slot:"title"},[a("i",{staticClass:"fa fa-user-o fa-lg"}),e._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("学生管理")])]),e._v(" "),a("el-menu-item",{attrs:{index:"/admin/student"}},[e._v("学生列表")])],2),e._v(" "),a("el-submenu",{attrs:{index:"/admin/adminManage"}},[a("template",{slot:"title"},[a("i",{staticClass:"fa fa-id-card-o fa-lg"}),e._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("管理员")])]),e._v(" "),a("el-menu-item",{attrs:{index:"/admin/administor"}},[e._v("管理员列表")]),e._v(" "),a("el-menu-item",{attrs:{index:"/admin/self"}},[e._v("个人中心")])],2)],1)],1)},ve=[],be={render:_e,staticRenderFns:ve},we=be,ye=a("VU/8"),Ce=l,ke=ye(ge,we,!1,Ce,"data-v-532372b2",null),xe=ke.exports,Ae={name:"Index",components:{HeadTop:he,SideBar:xe}},Se=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",{attrs:{direction:"vertical"}},[a("head-top"),e._v(" "),a("el-container",{staticClass:"main"},[a("side-bar"),e._v(" "),a("el-main",[a("router-view")],1)],1)],1)},$e=[],Ie={render:Se,staticRenderFns:$e},Fe=Ie,De=a("VU/8"),ze=c,Ne=De(Ae,Fe,!1,ze,"data-v-14eddbc8",null),Pe=Ne.exports,Te={data:function(){return{adminName:"",onlineIP:""}},mounted:function(){this.adminName=localStorage.getItem("adminName");var e=this;P.a.get("http://ip.wheff7.com/ipinfo").then(function(t){console.log(t.data.onlineip),200==t.status&&(e.onlineIP=t.data.onlineip)})}},je=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",{staticClass:"admin",attrs:{"body-style":{padding:"0px 20px"}}},[a("el-row",{staticStyle:{margin:"30px 0 30px 0"}},[a("el-col",{staticClass:"admin__avatar",attrs:{span:10}},[a("img",{attrs:{src:"https://avatars0.githubusercontent.com/u/18280125?s=460&v=4",alt:"用户图像"}})]),e._v(" "),a("el-col",{staticClass:"admin__name",attrs:{span:14}},[e._v("\n      Admin"+e._s(e.adminName)+"\n    ")])],1),e._v(" "),a("el-row",{staticClass:"admin__ip"},[e._v("\n    登录权限：普通管理员"),a("br"),e._v("\n    登录 IP："+e._s(e.onlineIP)+"\n  ")])],1)},Le=[],qe={render:je,staticRenderFns:Le},Ve=qe,Ee=a("VU/8"),Oe=d,He=Ee(Te,Ve,!1,Oe,"data-v-5e5ab0de",null),Re=He.exports,Ue={name:"CountInfo",props:{bgColor:{type:String,default:"#409EFF"},icon:{type:String,default:"user-plus"},number:{type:Number,default:0},type:{type:String,default:"总数"},update:{type:Boolean,default:!1}},data:function(){return{input:!1,btnName:"修改",link:!0}},methods:{alter:function(){this.input=!this.input,this.btnName="确认",this.link=!this.link},confirm:function(){""!=this.number&&(this.input=!this.input,this.btnName="修改",this.link=!this.link,P.a.post(API_HOST+"Global/QuestionNum",{questionNum:this.number}).then(function(e){console.log(e),(e.status=!0)&&alert("修改成功")}).catch(function(e){console.log(e),alert("修改失败，请检查信息")}))}}},Be=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",{staticClass:"count",attrs:{"body-style":{padding:"0px"}}},[a("el-row",[a("el-col",{staticClass:"count__icon",style:{backgroundColor:e.bgColor},attrs:{span:8}},[a("i",{class:["fa","fa-"+e.icon,"fa-2x"]})]),e._v(" "),a("el-col",{attrs:{span:16}},[e.input?a("el-row",{staticClass:"count__input"},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:e.number,callback:function(t){e.number=t},expression:"number"}})],1):a("el-row",{staticClass:"count__number",style:{color:e.bgColor}},[e._v(e._s(e.number))]),e._v(" "),a("el-row",{staticClass:"count__types"},[e._v("\n        "+e._s(e.type)+"\n        "),e.update?a("span",[e.link?a("a",{staticClass:"count__btn",attrs:{href:"javascript:void(0);"},on:{click:e.alter}},[e._v(e._s(e.btnName))]):a("a",{staticClass:"count__btn",attrs:{href:"javascript:void(0);"},on:{click:e.confirm}},[e._v(e._s(e.btnName))])]):e._e()])],1)],1)],1)},Qe=[],Ge={render:Be,staticRenderFns:Qe},Me=Ge,We=a("VU/8"),Ke=m,Je=We(Ue,Me,!1,Ke,"data-v-6299152b",null),Ye=Je.exports,Xe={data:function(){return{checked1:!1,checked2:!1,checked3:!1,checked4:!1}},methods:{upon:function(){1==this.checked1?localStorage.setItem("changeQuestionNum",!0):0==this.checked1&&localStorage.removeItem("changeQuestionNum",!1),1==this.checked2?localStorage.setItem("addStudent",!0):0==this.checked2&&localStorage.removeItem("addStudent"),1==this.checked3?localStorage.setItem("deleteStudent",!0):0==this.checked3&&localStorage.removeItem("deleteStudent"),1==this.checked4?localStorage.setItem("updateStudent",!0):0==this.checked4&&localStorage.removeItem("updateStudent")},getlocal:function(){"true"==localStorage.getItem("changeQuestionNum")&&(this.checked1=!0),"true"==localStorage.getItem("addStudent")&&(this.checked2=!0),"true"==localStorage.getItem("deleteStudent")&&(this.checked3=!0),"true"==localStorage.getItem("updateStudent")&&(this.checked4=!0)}},mounted:function(){this.getlocal()}},Ze=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",{staticClass:"task"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("待办事项")]),e._v(" "),a("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"}},[a("i",{staticClass:"fa fa-check-square-o"})])],1),e._v(" "),a("div",[a("el-checkbox",{on:{change:e.upon},model:{value:e.checked1,callback:function(t){e.checked1=t},expression:"checked1"}},[e._v("更改试卷总题数")])],1),e._v(" "),a("div",[a("el-checkbox",{on:{change:e.upon},model:{value:e.checked2,callback:function(t){e.checked2=t},expression:"checked2"}},[e._v("添加学生")])],1),e._v(" "),a("div",[a("el-checkbox",{on:{change:e.upon},model:{value:e.checked3,callback:function(t){e.checked3=t},expression:"checked3"}},[e._v("删除过期学生")])],1),e._v(" "),a("div",[a("el-checkbox",{on:{change:e.upon},model:{value:e.checked4,callback:function(t){e.checked4=t},expression:"checked4"}},[e._v("更新学生信息")])],1)])},et=[],tt={render:Ze,staticRenderFns:et},at=tt,nt=a("VU/8"),st=u,it=nt(Xe,at,!1,st,"data-v-85a5494e",null),ot=it.exports,rt=a("NMwE"),lt=a("XLwt"),ct=a.n(lt),dt={data:function(){return{}},methods:{drawChart:function(){this.chartBar=ct.a.init(document.getElementById("chartBar")),this.chartBar.setOption({color:["#3398DB"],tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{top:"30px",left:"20px",right:"20px",bottom:"20px",containLabel:!0},xAxis:{type:"category",data:["一年级","二年级","三年级","四年级","五年级","六年级"]},yAxis:{type:"value",boundaryGap:[0,.01]},series:[{name:"平均成绩",type:"bar",barWidth:"30%",data:[66,69,80,87,75,90]}]})}},mounted:function(){this.drawChart()},updated:function(){this.drawChart()}},mt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",{staticClass:"grade"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("成绩统计")]),e._v(" "),a("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"}},[a("i",{staticClass:"fa fa-bar-chart"})])],1),e._v(" "),a("div",{staticStyle:{width:"100%",height:"330px"},attrs:{id:"chartBar"}})])},ut=[],ft={render:mt,staticRenderFns:ut},pt=ft,ht=a("VU/8"),gt=f,_t=ht(dt,pt,!1,gt,"data-v-9b715e12",null),vt=_t.exports,bt={data:function(){return{questionNum:"",studentNum:"",poetryNum:""}},components:{AdminInfo:Re,CountInfo:Ye,TaskInfo:ot,DevInfo:rt.default,GradeInfo:vt},mounted:function(){this.questionNum=40,this.studentNum=412,this.poetryNum=120,P.a.get(API_HOST+"Global/Index").then(function(e){1==e.status&&(this.questionNum=e.questionNum,this.studentNum=e.studentNum,this.poetryNum=e.poetryNum)})}},wt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{attrs:{gutter:20}},[a("el-col",{staticClass:"col",attrs:{span:9}},[a("admin-info")],1),e._v(" "),a("el-col",{staticClass:"col",attrs:{span:5}},[a("count-info",{attrs:{bgColor:"#409EFF",icon:"tasks",number:e.questionNum,type:"试卷总题数",update:"true"}})],1),e._v(" "),a("el-col",{staticClass:"col",attrs:{span:5}},[a("count-info",{attrs:{bgColor:"#67C23A",icon:"user-plus",number:e.studentNum,type:"学生总数"}})],1),e._v(" "),a("el-col",{staticClass:"col",attrs:{span:5}},[a("count-info",{attrs:{bgColor:"#EB9E05",icon:"edit",number:e.poetryNum,type:"题目总数"}})],1),e._v(" "),a("el-col",{staticClass:"col col__right",attrs:{span:15}},[a("grade-info")],1),e._v(" "),a("el-col",{staticClass:"col",attrs:{span:9}},[a("task-info")],1),e._v(" "),a("el-col",{staticClass:"col",attrs:{span:9}},[a("dev-info")],1)],1)},yt=[],Ct={render:wt,staticRenderFns:yt},kt=Ct,xt=a("VU/8"),At=p,St=xt(bt,kt,!1,At,"data-v-699c5e21",null),$t=St.exports,It={data:function(){return{API_HOST:window.API_HOST,addDialogVisible:!1,editQuestion:!1,currentPage:1,pagesize:10,formInline:{name:""},isjudge:!1,isUploadShow:!1,supportWebp:!1,bucketHost:"",answerarr:["0","A","B","C","D"],form:{name:"",region:"",date1:"",date2:"",delivery:!1,type:[],resource:"",desc:"",order:[],disabled:[!0,!0,!0,!0],image:""},newform:{name:"",region:"",date1:"",date2:"",delivery:!1,type:[],resource:"",desc:"",order:[],disabled:[!0,!0,!0,!0],image:""},param:"",options:[{value:"1",label:"A",disabled:!0},{value:"2",label:"B",disabled:!0},{value:"3",label:"C",disabled:!0},{value:"4",label:"D",disabled:!0},{value:"T",label:"T",disabled:!0},{value:"F",label:"F",disabled:!0}],tableData3:[{type:0,id:1,question:"1+1=?",option:["2","3","4","5"],answer:1,analysis:"简单的数学运算",image:"https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/u=635704053,1460945271&fm=27&gp=0.jpg",video:""},{type:1,id:2,question:"1+1=?",option:["2","3","4","5"],answer:"1",analysis:"简单的数学运算",image:"www.baidu.com",video:""},{type:2,id:3,question:"1+1=?",option:["2","3","4","5"],answer:"1",analysis:"简单的数学运算",image:"",video:"www.baidu.com"}],oldtableData:[]}},methods:{search:function(){var e=this;console.log(this.formInline.name),""==this.formInline.name?this.tableData3=this.oldtableData:this.tableData3=this.oldtableData.filter(function(t){return~t.question.indexOf(e.formInline.name)})},selectVal:function(){if("choice"==this.form.region||"admiring"==this.form.region){"T"!=this.form.answer&&"F"!=this.form.answer||(this.form.answer="");for(var e=0;e<4;e++)this.options[e].disabled=!1,this.form.disabled[e]=!1;this.options[4].disabled=!0,this.options[5].disabled=!0}else if("judge"==this.form.region){"1"!=this.form.answer&&"2"!=this.form.answer&&"3"!=this.form.answer&&"4"!=this.form.answer||(this.form.answer="");for(var e=0;e<4;e++)this.options[e].disabled=!0,this.form.disabled[e]=!0;this.options[4].disabled=!1,this.options[5].disabled=!1}},AddQuestion:function(){if("choice"==this.form.region&&P.a.post(API_HOST+"Poetry/Add",{type:0,question:this.form.desc,option:this.form.order,answer:this.form.answer,analysis:this.form.analysis,image:this.form.image}).then(function(e){e=e.data,(e.status=!0)&&alert("添加成功")}).catch(function(e){console.log(e),alert("添加失败，请检查信息")}),"admiring"==this.form.region&&P.a.post(API_HOST+"Poetry/Add",{type:2,question:this.form.desc,option:this.form.order,answer:this.form.answer,analysis:this.form.analysis,video:this.form.image}).then(function(e){e=e.data,(e.status=!0)&&alert("添加成功")}).catch(function(e){console.log(e),alert("添加失败，请检查信息")}),"judge"==this.form.region){if("T"==this.form.answer)var e=1;else if("F"==this.form.answer)var e=0;P.a.post(API_HOST+"Poetry/Add",{type:1,question:this.form.desc,answer:e,analysis:this.form.analysis}).then(function(e){e=e.data,console.log(e),(e.status=!0)&&alert("添加成功")}).catch(function(e){console.log(e),alert("添加失败，请检查信息")})}},getQuestion:function(){for(var e=new Array({id:"2",type:"0",question:"1+1=?",option:["1","2","3","4"],answer:"1",analysis:"1",image:"1"}),t=new Array({id:"1",type:"1",question:"1+2=3",option:["1","2","3","4"],answer:"1",analysis:"1",image:"1"}),a=0;a<100;a++)e.push.apply(e,t);this.tableData3=e,this.oldtableData=this.tableData3;var n=this;P.a.get(API_HOST+"QuestionList").then(function(a){if(a=a.data,console.log(a),a.status=!0){for(var s=0;s<a.data.choice.length;s++)t=a.data.choice[s],t.type="0",e.push.apply(e,t);for(var s=0;s<a.data.judge.length;s++)t=a.data.judge[s],t.type="1",e.push.apply(e,t);for(var s=0;s<a.data.admiring.length;s++)t=a.data.admiring[s],t.type="2",e.push.apply(e,t);n.tableData3=e}})},handleSizeChange:function(e){this.pagesize=e},handleCurrentChange:function(e){this.currentPage=e},filterTag:function(e,t){return t.type===e},handleEdit:function(e,t){if(console.log(t),this.editQuestion=!0,this.newform.region=0==t.type?"选择题":1==t.type?"判断题":"欣赏题",this.newform.desc=t.question,1!=t.type?this.newform.order=t.option:this.newform.order=[],1==t.type){var a=new Array("F","T");this.$set(this.newform,"answer",a[parseInt(t.answer)])}else this.$set(this.newform,"answer",t.answer);this.newform.analysis=t.analysis},editSubmit:function(){console.log(this.newform.answer);var e="choice"==this.form.region?"0":"judge"==this.form.region?"1":"2",t=this.newform.desc,a=this.newform.order;if("T"==this.newform.answer)var n=1;else if("F"==this.newform.answer)var n=0;else var n=this.newform.answer;var s=this.newform.analysis;this.param.set("type",e),this.param.set("question",t),this.param.set("option",a),this.param.set("answer",n),this.param.set("analysis",s);var i={headers:{"Content-Type":"multipart/form-data"}};P.a.post(API_HOST+"Poetry/Update",this.param,i).then(function(e){e=e.data,1==e.status&&alert("修改成功")}).catch(function(e){console.log(e),alert("修改失败，请检查信息")})},handleDelete:function(e,t){P.a.post(API_HOST+"Poetry/Delete",{type:t.type,id:t.id}).then(function(e){e=e.data,1==e.status&&alert("删除成功")}).catch(function(e){console.log(e),alert("删除失败")})},beforeUpload:function(e){console.log(e),"admiring"==this.form.region?this.param.append("video",e,e.name):this.param.append("image",e,e.name)},httprequest:function(){},formatData:function(){var e="choice"==this.form.region?"0":"judge"==this.form.region?"1":"2",t=this.form.desc,a=this.form.order;if("T"==this.form.answer)var n=1;else if("F"==this.form.answer)var n=0;else var n=this.form.answer;return{type:e,question:t,option:a,answer:n,analysis:this.form.analysis}},onSubmit:function(){this.$refs.upload.submit()}},mounted:function(){this.getQuestion(),this.param=new FormData}},Ft=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",[a("el-form",{staticClass:"question__form",attrs:{inline:!0,model:e.formInline,size:"small"}},[a("el-form-item",{staticClass:"form__item"},[a("el-input",{attrs:{placeholder:"题目名称"},model:{value:e.formInline.name,callback:function(t){e.$set(e.formInline,"name",t)},expression:"formInline.name"}})],1),e._v(" "),a("el-form-item",{staticClass:"form__item"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.search()}}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.addDialogVisible=!0}}},[e._v("新增")])],1)],1),e._v(" "),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%",border:"1px solid rgb(230, 235, 245)","border-bottom":"none"},attrs:{data:e.tableData3.slice((e.currentPage-1)*e.pagesize,e.currentPage*e.pagesize),"default-sort":{prop:"id"},"tooltip-effect":"dark","header-row-style":"color: #000000; background-color: #eef1f6;"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{prop:"id",label:"序号",width:"60"}}),e._v(" "),a("el-table-column",{attrs:{prop:"type",label:"题目类型",width:"100",filters:[{text:"选择题",value:"0"},{text:"判断题",value:"1"},{text:"欣赏题",value:"2"}],"filter-method":e.filterTag,"filter-placement":"bottom-end"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{"disable-transitions":""}},[e._v(e._s(0==t.row.type?"选择题":1==t.row.type?"判断题":"欣赏题"))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"question",label:"题目内容","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"image",label:"题目图片",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return 2!=t.row.type?[a("el-popover",{attrs:{trigger:"hover",placement:"top"}},[a("img",{staticStyle:{width:"40%",height:"40%"},attrs:{src:t.row.image,alt:""}}),e._v(" "),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{attrs:{size:"medium"}},[e._v("查看图片")])],1)])]:void 0}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"option",label:"题目选项",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return 1!=t.row.type?[a("el-popover",{attrs:{trigger:"hover",placement:"top"}},[a("p",[e._v("A: "+e._s(t.row.option[0])+" ")]),e._v(" "),a("p",[e._v("B: "+e._s(t.row.option[1]))]),e._v(" "),a("p",[e._v("C: "+e._s(t.row.option[2]))]),e._v(" "),a("p",[e._v("D: "+e._s(t.row.option[3]))]),e._v(" "),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{attrs:{size:"medium"}},[e._v("查看选项")])],1)])]:void 0}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"answer",label:"题目答案",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[1!=t.row.type?a("span",[e._v(e._s(String.fromCharCode(parseInt(t.row.answer)+64)))]):e._e(),e._v(" "),1==t.row.type?a("span",[e._v(e._s(0==t.row.answer?"F":"T"))]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(a){e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(a){e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("el-row",{staticClass:"question__footer"},[a("el-pagination",{staticClass:"question__page",attrs:{background:"","current-page":e.currentPage,"page-sizes":[10,20,30,40],"page-size":e.pagesize,layout:"total, sizes, prev, pager, next",total:e.tableData3.length},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:"添加题目",visible:e.addDialogVisible,width:"50%"},on:{"update:visible":function(t){e.addDialogVisible=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"70px","label-position":"right"}},[a("el-form-item",{attrs:{label:"题目类型"}},[a("el-select",{attrs:{placeholder:"请选择题目类型"},on:{change:e.selectVal},model:{value:e.form.region,callback:function(t){e.$set(e.form,"region",t)},expression:"form.region"}},[a("el-option",{attrs:{label:"选择题",value:"choice"}}),e._v(" "),a("el-option",{attrs:{label:"判断题",value:"judge"}}),e._v(" "),a("el-option",{attrs:{label:"欣赏题",value:"admiring"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"题目内容"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:3}},model:{value:e.form.desc,callback:function(t){e.$set(e.form,"desc",t)},expression:"form.desc"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"选项 A"}},[a("el-input",{attrs:{disabled:e.form.disabled[0]},model:{value:e.form.order[0],callback:function(t){e.$set(e.form.order,0,t)},expression:"form.order[0]"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"选项 B"}},[a("el-input",{attrs:{disabled:e.form.disabled[1]},model:{value:e.form.order[1],callback:function(t){e.$set(e.form.order,1,t)},expression:"form.order[1]"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"选项 C"}},[a("el-input",{attrs:{disabled:e.form.disabled[2]},model:{value:e.form.order[2],callback:function(t){e.$set(e.form.order,2,t)},expression:"form.order[2]"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"选项 D"}},[a("el-input",{attrs:{disabled:e.form.disabled[3]},model:{value:e.form.order[3],callback:function(t){e.$set(e.form.order,3,t)},expression:"form.order[3]"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"答案"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.answer,callback:function(t){e.$set(e.form,"answer",t)},expression:"form.answer"}},e._l(e.options,function(e){return a("el-option",{key:e.index,attrs:{label:e.label,value:e.value,disabled:e.disabled}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"解释"}},[a("el-input",{model:{value:e.form.analysis,callback:function(t){e.$set(e.form,"analysis",t)},expression:"form.analysis"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"题目附件"}},[a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{data:e.formatData(),name:"admiring"==this.form.region?"video":"image",action:e.API_HOST+"Poetry/Add","show-file-list":"",limit:1,"before-upload":e.beforeUpload,"auto-upload":!1}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")])],1)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.addDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.onSubmit}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"修改题目",visible:e.editQuestion,width:"50%"},on:{"update:visible":function(t){e.editQuestion=t}}},[a("el-form",{ref:"form",attrs:{model:e.newform,"label-width":"70px","label-position":"right"}},[a("el-form-item",{attrs:{label:"题目类型"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.newform.region,callback:function(t){e.$set(e.newform,"region",t)},expression:"newform.region"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"题目内容"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:3}},model:{value:e.newform.desc,callback:function(t){e.$set(e.newform,"desc",t)},expression:"newform.desc"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"选项 A"}},[a("el-input",{model:{value:e.newform.order[0],callback:function(t){e.$set(e.newform.order,0,t)},expression:"newform.order[0]"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"选项 B"}},[a("el-input",{model:{value:e.newform.order[1],callback:function(t){e.$set(e.newform.order,1,t)},expression:"newform.order[1]"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"选项 C"}},[a("el-input",{model:{value:e.newform.order[2],callback:function(t){e.$set(e.newform.order,2,t)},expression:"newform.order[2]"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"选项 D"}},[a("el-input",{model:{value:e.newform.order[3],callback:function(t){e.$set(e.newform.order,3,t)},expression:"newform.order[3]"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"答案"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.newform.answer,callback:function(t){e.$set(e.newform,"answer",t)},expression:"newform.answer"}},e._l(e.options,function(e){return a("el-option",{key:e.index,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"解释"}},[a("el-input",{model:{value:e.newform.analysis,callback:function(t){e.$set(e.newform,"analysis",t)},expression:"newform.analysis"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"题目附件"}},[a("el-upload",{staticClass:"upload-demo",attrs:{action:"https://jsonplaceholder.typicode.com/posts/","show-file-list":"",limit:1,"before-upload":e.beforeUpload}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")])],1)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.editQuestion=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.editSubmit}},[e._v("修 改")])],1)],1)],1)},Dt=[],zt={render:Ft,staticRenderFns:Dt},Nt=zt,Pt=a("VU/8"),Tt=h,jt=Pt(It,Nt,!1,Tt,"data-v-06d1283e",null),Lt=jt.exports,qt={data:function(){return{addDialogVisible:!1,currentPage:1,pagesize:10,formInline:{name:""},form:{id:"",name:"",class:""},editform:{id:"",name:"",class:""},tableData3:[{id:"2014317200405",name:"孙梦海",class:"计科1404",grade:[[89,"2017-12-1",1],[92,"2018-2-12",2]]},{id:"2014317200405",name:"孙梦海",class:"计科1404"},{id:"2014317200405",name:"孙梦海",class:"计科1404"},{id:"2014317200405",name:"孙梦海",class:"计科1404"},{id:"2014317200405",name:"孙梦海",class:"计科1404"},{id:"2014317200405",name:"孙梦海",class:"计科1404"},{id:"2014317200405",name:"孙梦海",class:"计科1404"},{id:"2014317200405",name:"孙梦海",class:"计科1404"},{id:"2014317200405",name:"孙梦海",class:"计科1404"},{id:"2014317200405",name:"孙梦海",class:"计科1404"}],oldtableData:[]}},methods:{search:function(){var e=this;console.log(this.formInline.name),""==this.formInline.name?this.tableData3=this.oldtableData:this.tableData3=this.oldtableData.filter(function(t){return~t.name.indexOf(e.formInline.name)})},addStudent:function(){P.a.post(API_HOST+"Student/Add",{name:this.form.name,id:this.form.id,class:this.form.class}).then(function(e){console.log(e),1==e.status&&alert("添加成功")}).catch(function(e){console.log(e),alert("添加失败")})},handleEdit:function(e,t){console.log(t),this.editStudent=!0,this.editform.id=t.id,this.editform.name=t.name,this.editform.class=t.class},handleSizeChange:function(e){this.pagesize=e},handleCurrentChange:function(e){this.currentPage=e},handleDelete:function(e,t){console.log(t),P.a.post(API_HOST+"Student/Delete",{id:t.id}).then(function(e){console.log(e),1==e.status&&alert("删除成功")}).catch(function(e){console.log(e),alert("删除失败")})},editsubmit:function(){P.a.post(API_HOST+"Student/Update",{name:this.editform.name,id:this.editform.id,class:this.editform.class}).then(function(e){console.log(e),1==e.status&&alert("修改成功")}).catch(function(e){console.log(e),alert("修改失败")})}},mounted:function(){var e=new Array({name:"张三",id:"123456789",class:"2-3",grade:[[89,"2017-12-1",1],[92,"2018-2-12",2]]}),t=new Array({name:"张三",id:"123456789",class:"2-3",grade:[[89,"2017-12-1",1],[92,"2018-2-12",2]]});e.push.apply(e,t),this.tableData3=e,this.oldtableData=this.tableData3,P.a.get(API_HOST+"StudentList").then(function(a){if(console.log(a),1==a.status){for(var n=0;n<a.data.length;n++)t=a.data[n],e.push.apply(e,t);this.tableData3=e}})}},Vt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",[a("el-form",{staticClass:"student__form",attrs:{inline:!0,model:e.formInline,size:"small"}},[a("el-form-item",{staticClass:"form__item"},[a("el-input",{attrs:{placeholder:"学生姓名"},model:{value:e.formInline.name,callback:function(t){e.$set(e.formInline,"name",t)},expression:"formInline.name"}})],1),e._v(" "),a("el-form-item",{staticClass:"form__item"},[a("el-button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.addDialogVisible=!0}}},[e._v("新增")])],1)],1),e._v(" "),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%",border:"1px solid rgb(230, 235, 245)","border-bottom":"none"},attrs:{data:e.tableData3.slice((e.currentPage-1)*e.pagesize,e.currentPage*e.pagesize),"tooltip-effect":"dark","header-row-style":"color: #000000; background-color: #eef1f6;"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{type:"index",width:"60"}}),e._v(" "),a("el-table-column",{attrs:{prop:"id",label:"学号",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"姓名",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{type:"expand",label:"展开成绩",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.grade,function(t,n){return a("el-form",{key:n,staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[a("el-form-item",[a("span",[e._v("第"+e._s(t[2])+"次测验")])]),e._v(" "),a("el-form-item",{attrs:{label:"考试时间"}},[a("span",[e._v(e._s(t[1]))])]),e._v(" "),a("el-form-item",{attrs:{label:"考试分数"}},[a("span",[e._v(e._s(t[0]))])])],1)})}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"class",label:"班级"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(a){e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(a){e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("el-row",{staticClass:"student__footer"},[a("el-pagination",{staticClass:"student__page",attrs:{background:"","current-page":e.currentpage,"page-sizes":[10,20,30,40],"page-size":e.pagesize,layout:"total, sizes, prev, pager, next",total:e.tableData3.length},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:"添加学生",visible:e.addDialogVisible,width:"50%"},on:{"update:visible":function(t){e.addDialogVisible=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"70px","label-position":"right"}},[a("el-form-item",{attrs:{label:"学号"}},[a("el-input",{model:{value:e.form.id,callback:function(t){e.$set(e.form,"id",t)},expression:"form.id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"姓名"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"班级"}},[a("el-input",{model:{value:e.form.class,callback:function(t){e.$set(e.form,"class",t)},expression:"form.class"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.addDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.addStudent}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"编辑学生",visible:e.editStudent,width:"50%"},on:{"update:visible":function(t){e.editStudent=t}}},[a("el-form",{ref:"form",attrs:{model:e.editform,"label-width":"70px","label-position":"right"}},[a("el-form-item",{attrs:{label:"学号"}},[a("el-input",{model:{value:e.editform.id,callback:function(t){e.$set(e.editform,"id",t)},expression:"editform.id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"姓名"}},[a("el-input",{model:{value:e.editform.name,callback:function(t){e.$set(e.editform,"name",t)},expression:"editform.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"班级"}},[a("el-input",{model:{value:e.editform.class,callback:function(t){e.$set(e.editform,"class",t)},expression:"editform.class"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.addDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.editsubmit}},[e._v("确 定")])],1)],1)],1)},Et=[],Ot={render:Vt,staticRenderFns:Et},Ht=Ot,Rt=a("VU/8"),Ut=g,Bt=Rt(qt,Ht,!1,Ut,"data-v-43154200",null),Qt=Bt.exports,Gt={data:function(){return{headertitle:"管理员",addDialogVisible:!1,currentPage:1,pagesize:10,formInline:{admin:""},form:{name:"",password:""},adminData:[{id:"1",name:"单栖情绪"},{id:"1",name:"单栖情绪"},{id:"1",name:"单栖情绪"},{id:"1",name:"单栖情绪"},{id:"1",name:"单栖情绪"},{id:"1",name:"单栖情绪"},{id:"1",name:"单栖情绪"},{id:"1",name:"单栖情绪"},{id:"1",name:"单栖情绪"},{id:"1",name:"单栖情绪"}],oldadminData:[]}},methods:{search:function(){var e=this;console.log(this.formInline.admin),""==this.formInline.admin?this.adminData=this.oldadminData:this.adminData=this.oldadminData.filter(function(t){return~t.name.indexOf(e.formInline.admin)})},addAdministor:function(e){""!=this.form.name&&""!=this.form.password&&P.a.post(API_HOST+"Admin/Reg",{name:this.form.name,password:this.form.password}).then(function(e){console.log(e),(e.status=!0)&&alert("添加成功")}).catch(function(e){console.log(e),alert("添加失败，可能信息已被注册")})},handleEdit:function(e,t){console.log(t),this.editAdmin=!0,this.editform.id=t.id,this.editform.name=t.name},handleSizeChange:function(e){this.pagesize=e},handleCurrentChange:function(e){this.currentPage=e}},mounted:function(){for(var e=new Array({name:"情绪",id:"1"}),t=new Array({name:"情绪",id:"2"}),a=0;a<100;a++)e.push.apply(e,t);this.adminData=e,this.oldadminData=this.adminData,P.a.get(API_HOST+"AdminList").then(function(a){if(console.log(a),1==a.status){for(var n=0;n<a.data.length;n++)t=a.data[n],e.push.apply(e,t);this.adminData=e}})}},Mt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",[a("el-form",{staticClass:"administor__form",attrs:{inline:!0,model:e.formInline,size:"small"}},[a("el-form-item",{staticClass:"form__item"},[a("el-input",{attrs:{placeholder:"管理员用户名"},model:{value:e.formInline.admin,callback:function(t){e.$set(e.formInline,"admin",t)},expression:"formInline.admin"}})],1),e._v(" "),a("el-form-item",{staticClass:"form__item"},[a("el-button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.addDialogVisible=!0}}},[e._v("新增")])],1)],1),e._v(" "),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%",border:"1px solid rgb(230, 235, 245)","border-bottom":"none"},attrs:{data:e.adminData.slice((e.currentPage-1)*e.pagesize,e.currentPage*e.pagesize),"tooltip-effect":"dark","header-row-style":"color: #000000; background-color: #eef1f6;"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"index",width:"60"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"用户名"}})],1),e._v(" "),a("el-row",{staticClass:"administor__footer"},[a("el-pagination",{staticClass:"administor__page",attrs:{background:"","current-page":e.currentPage,"page-sizes":[10,20,30,40],"page-size":e.pagesize,layout:"total, sizes, prev, pager, next",total:e.adminData.length},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:"添加管理员",visible:e.addDialogVisible,width:"50%"},on:{"update:visible":function(t){e.addDialogVisible=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"70px","label-position":"right"}},[a("el-form-item",{attrs:{label:"用户名"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"密码"}},[a("el-input",{model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.addDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){e.addAdministor(e.form)}}},[e._v("确 定")])],1)],1)],1)},Wt=[],Kt={render:Mt,staticRenderFns:Wt},Jt=Kt,Yt=a("VU/8"),Xt=_,Zt=Yt(Gt,Jt,!1,Xt,"data-v-777d7f4c",null),ea=Zt.exports,ta={data:function(){return{form:{name:"",region:"",date1:"",date2:"",delivery:!1,type:[],resource:"",desc:""}}}},aa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"form",staticClass:"self__form",attrs:{model:e.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"昵称"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"身份"}},[a("el-select",{attrs:{placeholder:"请选择管理员身份"},model:{value:e.form.region,callback:function(t){e.$set(e.form,"region",t)},expression:"form.region"}},[a("el-option",{attrs:{label:"普通管理员",value:"beijing"}})],1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("立即更新")]),e._v(" "),a("el-button",[e._v("取消")])],1)],1)},na=[],sa={render:aa,staticRenderFns:na},ia=sa,oa=a("VU/8"),ra=v,la=oa(ta,ia,!1,ra,"data-v-4e7d1464",null),ca=la.exports;b.default.use(z.a);var da=new z.a({routes:[{path:"/",name:"Home",component:R},{path:"/test",name:"Test",component:Y},{path:"/login",name:"Login",component:oe},{path:"/admin/",component:Pe,children:[{path:"",component:$t},{path:"index",component:$t},{path:"question",component:Lt},{path:"student",component:Qt},{path:"administor",component:ea},{path:"self",component:ca}]}]});b.default.prototype.$axios=P.a,b.default.use(y.a),b.default.config.productionTip=!1,window.API_HOST="http://localhost:7001/",new b.default({el:"#app",router:da,template:"<App/>",components:{App:D}})},NMwE:function(e,t,a){"use strict";function n(e){a("/rKX")}var s=a("5uzI"),i=a.n(s),o=a("yEpb"),r=a("VU/8"),l=n,c=r(i.a,o.a,!1,l,"data-v-b386fa90",null);t.default=c.exports},TgJ2:function(e,t){},"YMg/":function(e,t){},ea3Y:function(e,t){},mGhb:function(e,t){},mLjK:function(e,t){},ohU5:function(e,t){},sjko:function(e,t){},tvR6:function(e,t){},uaDS:function(e,t){},up3Z:function(e,t){},"v+rB":function(e,t){},wrMN:function(e,t){},yEpb:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",{staticClass:"dev"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("系统信息")]),e._v(" "),a("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"}},[a("i",{staticClass:"fa fa-server"})])],1),e._v(" "),a("div",[e._v("数据库：MySql")]),e._v(" "),a("div",[e._v("服务器：Windows Server")]),e._v(" "),a("div",[e._v("开发人员：孙梦海 黄穗宇 张晶波")])])},s=[],i={render:n,staticRenderFns:s};t.a=i}},["NHnr"]);
//# sourceMappingURL=app.3e33fe929065d962f44a.js.map